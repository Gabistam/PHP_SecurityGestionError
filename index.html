<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S√©curit√© et Gestion d'Erreurs en PHP - Formation D√©veloppement</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="overflow-x-hidden">
    <!-- Navigation fixe -->
    <header>
        <nav class="nav-fixed w-full">
            <div class="nav-container max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between px-4 sm:px-6 lg:px-8 py-3 md:py-4 gap-3 md:gap-4">
                <div class="nav-title text-center md:text-left text-sm sm:text-base">üîê S√©curit√© PHP - Formation D√©veloppement</div>
                <div class="nav-links flex flex-wrap justify-center md:justify-end gap-2 md:gap-4 text-sm">
                    <a href="#intro">Introduction</a>
                    <a href="#erreurs">Erreurs</a>
                    <a href="#vulnerabilites">Vuln√©rabilit√©s</a>
                    <a href="#validation">Validation</a>
                    <a href="#authentification">Auth</a>
                    <a href="#bonnes-pratiques">Pratiques</a>
                    <a href="#synthese">Synth√®se</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="container max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 md:py-8 w-full">
        <!-- Titre principal -->
        <h1 class="hero-title text-3xl sm:text-4xl md:text-5xl lg:text-6xl">üîê S√©curit√© et Gestion d'Erreurs en PHP</h1>
        <p class="hero-subtitle text-lg sm:text-xl md:text-2xl">Prot√©gez vos applications web contre les vuln√©rabilit√©s</p>

        <!-- Section Introduction -->
        <div id="intro" class="section py-6 md:py-8">
            <h2 class="text-2xl sm:text-3xl md:text-4xl">üéØ Introduction : Pourquoi s√©curiser vos applications PHP ?</h2>

            <div class="intro-dropdown">
                <div class="intro-header" onclick="toggleIntro(0)">
                    üí° Comprendre l'importance de la s√©curit√© en d√©veloppement web
                    <span class="intro-arrow">‚ñº</span>
                </div>
                <div id="intro0" class="intro-content">
                    <div class="intro-text">
                        <p><strong>üéØ Objectif :</strong> Comprendre pourquoi la s√©curit√© est cruciale dans le d√©veloppement PHP et comment prot√©ger vos applications contre les attaques courantes.</p>

                        <h4>üîí Qu'est-ce que la s√©curit√© web ?</h4>
                        <p>La s√©curit√© web consiste √† <strong>prot√©ger votre application</strong> contre les attaques malveillantes :</p>
                        <ul>
                            <li><strong>Prot√©ger les donn√©es</strong> : Informations personnelles, mots de passe, donn√©es bancaires</li>
                            <li><strong>Pr√©server l'int√©grit√©</strong> : Emp√™cher la modification non autoris√©e du contenu</li>
                            <li><strong>Assurer la disponibilit√©</strong> : √âviter que l'application soit rendue inutilisable</li>
                            <li><strong>Maintenir la confidentialit√©</strong> : Contr√¥ler qui acc√®de √† quoi</li>
                        </ul>

                        <h4>‚ö†Ô∏è Les risques sans s√©curit√©</h4>
                        <ul>
                            <li><strong>Vol de donn√©es</strong> : Piratage de comptes utilisateurs, fuite d'informations</li>
                            <li><strong>D√©facement</strong> : Modification du contenu de votre site</li>
                            <li><strong>Injection de malware</strong> : Infection des visiteurs de votre site</li>
                            <li><strong>R√©putation ternie</strong> : Perte de confiance des utilisateurs</li>
                            <li><strong>Sanctions l√©gales</strong> : Amendes RGPD, poursuites judiciaires</li>
                        </ul>

                        <div class="intro-highlight">
                            <strong>üéØ Analogie :</strong> La s√©curit√© web, c'est comme la s√©curit√© de votre maison : vous fermez √† cl√©, vous v√©rifiez qui sonne avant d'ouvrir, et vous ne laissez pas tra√Æner vos objets de valeur !
                        </div>

                        <h4>üìä Statistiques choc</h4>
                        <ul>
                            <li><strong>43% des cyberattaques</strong> visent les petites entreprises</li>
                            <li><strong>Une attaque toutes les 39 secondes</strong> sur le web</li>
                            <li><strong>90% des violations de donn√©es</strong> sont √©vitables avec de bonnes pratiques</li>
                            <li><strong>PHP repr√©sente 77%</strong> des sites web - c'est une cible privil√©gi√©e !</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="alert alert-warning">
                <div class="alert-icon">‚ö†Ô∏è</div>
                <div>
                    <strong>R√©alit√© du terrain :</strong> Un site non s√©curis√© peut √™tre compromis en quelques minutes. Les robots malveillants scannent internet 24h/24 √† la recherche de failles √† exploiter !
                </div>
            </div>
        </div>

        <!-- Section Gestion des erreurs -->
        <div id="erreurs" class="section py-6 md:py-8">
            <h2>‚ö° Gestion des erreurs et exceptions en PHP</h2>

            <div class="intro-dropdown">
                <div class="intro-header" onclick="toggleIntro(1)">
                    üí° Ma√Ætriser le syst√®me d'exceptions PHP
                    <span class="intro-arrow">‚ñº</span>
                </div>
                <div id="intro1" class="intro-content">
                    <div class="intro-text">
                        <p><strong>üéØ Objectif :</strong> Apprendre √† g√©rer proprement les erreurs avec try-catch et cr√©er des exceptions personnalis√©es pour s√©curiser vos applications.</p>

                        <h4>‚ö° Pourquoi bien g√©rer les erreurs ?</h4>
                        <p>Une mauvaise gestion des erreurs peut r√©v√©ler des <strong>informations sensibles</strong> :</p>
                        <ul>
                            <li><strong>Chemins de fichiers</strong> : Structure de votre serveur</li>
                            <li><strong>Noms de base de donn√©es</strong> : Architecture technique</li>
                            <li><strong>Requ√™tes SQL</strong> : Structure des tables</li>
                            <li><strong>Versions logicielles</strong> : Vuln√©rabilit√©s connues exploitables</li>
                        </ul>

                        <div class="intro-highlight">
                            <strong>üéØ Principe de base :</strong> Pour l'utilisateur : message simple et rassurant. Pour le d√©veloppeur : log d√©taill√© avec toutes les informations techniques.
                        </div>
                    </div>
                </div>
            </div>

            <h3>üîß Le syst√®me try-catch en PHP</h3>

            <div class="security-cards">
                <div class="security-card security-error">
                    <div class="security-icon">‚ö°</div>
                    <h3 style="color: #ef4444; margin-bottom: 15px;">Try-Catch Basique</h3>
                    <p><strong>Structure :</strong> Capture et traite les exceptions</p>
                    <br>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; font-family: monospace;">
                        <code>try {<br>
                        &nbsp;&nbsp;// Code risqu√©<br>
                        &nbsp;&nbsp;$result = riskyFunction();<br>
                        } catch (Exception $e) {<br>
                        &nbsp;&nbsp;// Gestion de l'erreur<br>
                        &nbsp;&nbsp;logError($e->getMessage());<br>
                        &nbsp;&nbsp;showUserError("Erreur technique");<br>
                        }</code>
                    </div>
                </div>

                <div class="security-card security-auth">
                    <div class="security-icon">üîí</div>
                    <h3 style="color: #10b981; margin-bottom: 15px;">Exceptions Personnalis√©es</h3>
                    <p><strong>Avantage :</strong> Gestion sp√©cifique par type d'erreur</p>
                    <br>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; font-family: monospace;">
                        <code>class DatabaseException extends Exception {}<br>
                        class ValidationException extends Exception {}<br><br>
                        try {<br>
                        &nbsp;&nbsp;validateUser($data);<br>
                        } catch (ValidationException $e) {<br>
                        &nbsp;&nbsp;// Erreur de validation<br>
                        } catch (DatabaseException $e) {<br>
                        &nbsp;&nbsp;// Erreur de base de donn√©es<br>
                        }</code>
                    </div>
                </div>

                <div class="security-card security-protection">
                    <div class="security-icon">üõ°Ô∏è</div>
                    <h3 style="color: #3b82f6; margin-bottom: 15px;">Logging S√©curis√©</h3>
                    <p><strong>Principe :</strong> Enregistrer sans exposer</p>
                    <br>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; font-family: monospace;">
                        <code>function logError($message) {<br>
                        &nbsp;&nbsp;$logEntry = date('Y-m-d H:i:s') . <br>
                        &nbsp;&nbsp;&nbsp;&nbsp;" - " . $message . PHP_EOL;<br>
                        &nbsp;&nbsp;file_put_contents(<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;'/secure/logs/error.log',<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;$logEntry, FILE_APPEND<br>
                        &nbsp;&nbsp;);<br>
                        }</code>
                    </div>
                </div>

                <div class="security-card security-vulnerability">
                    <div class="security-icon">‚ö†Ô∏è</div>
                    <h3 style="color: #f59e0b; margin-bottom: 15px;">Gestion PDO</h3>
                    <p><strong>Sp√©cial :</strong> Erreurs de base de donn√©es</p>
                    <br>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; font-family: monospace;">
                        <code>try {<br>
                        &nbsp;&nbsp;$pdo = new PDO($dsn, $user, $pass);<br>
                        &nbsp;&nbsp;$pdo->setAttribute(PDO::ATTR_ERRMODE,<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;PDO::ERRMODE_EXCEPTION);<br>
                        } catch (PDOException $e) {<br>
                        &nbsp;&nbsp;logError("DB Error: " . $e->getMessage());<br>
                        &nbsp;&nbsp;die("Service temporairement indisponible");<br>
                        }</code>
                    </div>
                </div>
            </div>

            <h3>üéØ Exemple concret : Site de paris sportifs</h3>
            <div class="best-practices">
                <p><strong>Sc√©nario :</strong> Un utilisateur place un pari mais la base de donn√©es est inaccessible.</p>
                <br>
                <p><strong>‚ùå Mauvaise approche :</strong></p>
                <div style="background: #fee; padding: 15px; border-radius: 8px; margin: 10px 0;">
                    <code>Fatal error: Cannot connect to database server mysql.internal.company.com on port 3306 using user 'bet_admin' with password 'SuperSecret123!'</code>
                </div>
                <p><strong>‚úÖ Bonne approche :</strong></p>
                <div style="background: #efe; padding: 15px; border-radius: 8px; margin: 10px 0;">
                    <p><em>Pour l'utilisateur :</em> "Service temporairement indisponible. Votre pari sera trait√© dans quelques instants."</p>
                    <p><em>Dans les logs :</em> "[2025-01-15 14:30:15] DB Connection failed: mysql.internal.company.com:3306 - Access denied for user 'bet_admin'"</p>
                </div>
            </div>

            <div class="alert alert-info">
                <div class="alert-icon">üí°</div>
                <div>
                    <strong>Astuce Pro :</strong> Configurez PHP en production avec <code>display_errors = Off</code> et <code>log_errors = On</code>. Ainsi, les erreurs sont enregistr√©es mais jamais affich√©es aux utilisateurs !
                </div>
            </div>
        </div>

        <!-- Quiz 1 -->
        <div class="quiz-container">
            <div class="quiz-header" onclick="toggleQuiz(1)">
                <span>üéØ Quiz 1 : Introduction et Gestion d'erreurs</span>
                <span class="quiz-arrow">‚ñº</span>
            </div>
            <div id="quiz1" class="quiz-content">
                <div class="quiz-question">
                    <div class="question-text">1. Quel pourcentage des cyberattaques vise les petites entreprises ?</div>
                    <div class="quiz-options" id="q1-1">
                        <button class="quiz-option" data-correct="false">A) 15%</button>
                        <button class="quiz-option" data-correct="true">B) 43%</button>
                        <button class="quiz-option" data-correct="false">C) 78%</button>
                    </div>
                    <div class="quiz-feedback">
                        <div class="feedback-text"></div>
                    </div>
                </div>

                <div class="quiz-question">
                    <div class="question-text">2. Vrai ou Faux : Il est s√©curis√© d'afficher les messages d'erreur PHP complets aux utilisateurs.</div>
                    <div class="quiz-options" id="q1-2">
                        <button class="quiz-option" data-correct="false">Vrai</button>
                        <button class="quiz-option" data-correct="true">Faux - Cela r√©v√®le des informations sensibles</button>
                    </div>
                    <div class="quiz-feedback">
                        <div class="feedback-text"></div>
                    </div>
                </div>

                <div class="quiz-question">
                    <div class="question-text">3. Que doit-on faire avec les erreurs en production ?</div>
                    <div class="quiz-options" id="q1-3">
                        <button class="quiz-option" data-correct="false">A) Les afficher √† l'utilisateur pour qu'il comprenne</button>
                        <button class="quiz-option" data-correct="true">B) Les logger en d√©tail et afficher un message simple √† l'utilisateur</button>
                        <button class="quiz-option" data-correct="false">C) Les ignorer compl√®tement</button>
                    </div>
                    <div class="quiz-feedback">
                        <div class="feedback-text"></div>
                    </div>
                </div>

                <div class="quiz-question">
                    <div class="question-text">4. Quel attribut PDO permet de transformer les erreurs en exceptions ?</div>
                    <div class="quiz-options" id="q1-4">
                        <button class="quiz-option" data-correct="true">A) PDO::ATTR_ERRMODE avec PDO::ERRMODE_EXCEPTION</button>
                        <button class="quiz-option" data-correct="false">B) PDO::ERROR_MODE avec PDO::THROW_EXCEPTION</button>
                        <button class="quiz-option" data-correct="false">C) PDO::EXCEPTION_MODE avec PDO::AUTO_THROW</button>
                    </div>
                    <div class="quiz-feedback">
                        <div class="feedback-text"></div>
                    </div>
                </div>

                <div class="quiz-question">
                    <div class="question-text">5. Pourquoi cr√©er des exceptions personnalis√©es ?</div>
                    <div class="quiz-options" id="q1-5">
                        <button class="quiz-option" data-correct="false">A) Pour impressionner les autres d√©veloppeurs</button>
                        <button class="quiz-option" data-correct="true">B) Pour g√©rer diff√©remment chaque type d'erreur</button>
                        <button class="quiz-option" data-correct="false">C) Parce que c'est obligatoire en PHP</button>
                    </div>
                    <div class="quiz-feedback">
                        <div class="feedback-text"></div>
                    </div>
                </div>

                <div class="quiz-score">
                    <h4>üéâ R√©sultat du Quiz 1</h4>
                    <p class="score-text"></p>
                </div>
            </div>
        </div>

        <!-- Section Vuln√©rabilit√©s -->
        <div id="vulnerabilites" class="section py-6 md:py-8">
            <h2>‚ö†Ô∏è Vuln√©rabilit√©s courantes des applications web</h2>

            <div class="intro-dropdown">
                <div class="intro-header" onclick="toggleIntro(2)">
                    üí° Les 3 failles de s√©curit√© les plus critiques
                    <span class="intro-arrow">‚ñº</span>
                </div>
                <div id="intro2" class="intro-content">
                    <div class="intro-text">
                        <p><strong>üéØ Objectif :</strong> Identifier et comprendre les vuln√©rabilit√©s les plus courantes : injection SQL, XSS et CSRF.</p>

                        <h4>üìä Le Top 3 OWASP</h4>
                        <p>L'<strong>OWASP Top 10</strong> liste les vuln√©rabilit√©s web les plus critiques. Voici le trio de t√™te :</p>
                        <ul>
                            <li><strong>Injection SQL</strong> : Manipulation des requ√™tes de base de donn√©es</li>
                            <li><strong>XSS (Cross-Site Scripting)</strong> : Injection de code JavaScript malveillant</li>
                            <li><strong>CSRF (Cross-Site Request Forgery)</strong> : Actions non autoris√©es au nom de l'utilisateur</li>
                        </ul>

                        <div class="intro-highlight">
                            <strong>üéØ Statistique choc :</strong> Ces 3 vuln√©rabilit√©s repr√©sentent √† elles seules plus de 60% des attaques web r√©ussies !
                        </div>
                    </div>
                </div>
            </div>

            <h3>üíâ Injection SQL : La reine des vuln√©rabilit√©s</h3>

            <div class="security-cards">
                <div class="security-card security-vulnerability">
                    <div class="security-icon">‚ö†Ô∏è</div>
                    <h3 style="color: #f59e0b;">Code Vuln√©rable</h3>
                    <p><strong>‚ùå Dangereux :</strong> Concat√©nation directe</p>
                    <br>
                    <div style="background: #fef2f2; padding: 15px; border-radius: 8px; font-family: monospace; border-left: 4px solid #ef4444;">
                        <code>$username = $_POST['username'];<br>
                        $password = $_POST['password'];<br><br>
                        $sql = "SELECT * FROM users WHERE <br>
                        &nbsp;&nbsp;username = '$username' AND <br>
                        &nbsp;&nbsp;password = '$password'";<br><br>
                        $result = mysqli_query($conn, $sql);</code>
                    </div>
                    <p style="margin-top: 10px;"><strong>Attaque :</strong> <code>admin' OR '1'='1' --</code></p>
                </div>

                <div class="security-card security-protection">
                    <div class="security-icon">üõ°Ô∏è</div>
                    <h3 style="color: #3b82f6;">Code S√©curis√©</h3>
                    <p><strong>‚úÖ S√ªr :</strong> Requ√™tes pr√©par√©es</p>
                    <br>
                    <div style="background: #f0f9ff; padding: 15px; border-radius: 8px; font-family: monospace; border-left: 4px solid #3b82f6;">
                        <code>$username = $_POST['username'];<br>
                        $password = $_POST['password'];<br><br>
                        $sql = "SELECT * FROM users WHERE <br>
                        &nbsp;&nbsp;username = ? AND password = ?";<br><br>
                        $stmt = $pdo->prepare($sql);<br>
                        $stmt->execute([$username, $password]);</code>
                    </div>
                    <p style="margin-top: 10px;"><strong>Protection :</strong> Param√®tres s√©par√©s du code SQL</p>
                </div>
            </div>

            <h3>üé≠ XSS : Injection de JavaScript malveillant</h3>

            <div class="comparison-grid">
                <div class="comparison-card" style="border: 3px solid #ef4444;">
                    <h4 style="color: #ef4444;">‚ùå Code Vuln√©rable</h4>
                    <div style="background: #fef2f2; padding: 15px; border-radius: 8px; margin-top: 15px; font-family: monospace;">
                        <code>// Affichage direct des donn√©es utilisateur<br>
                        echo "Bonjour " . $_GET['nom'];</code>
                    </div>
                    <p style="margin-top: 15px;"><strong>Attaque possible :</strong></p>
                    <code style="font-size: 0.8em;">?nom=&lt;script&gt;alert('XSS!')&lt;/script&gt;</code>
                </div>

                <div class="comparison-card" style="border: 3px solid #10b981;">
                    <h4 style="color: #10b981;">‚úÖ Code S√©curis√©</h4>
                    <div style="background: #f0fdf4; padding: 15px; border-radius: 8px; margin-top: 15px; font-family: monospace;">
                        <code>// √âchappement des caract√®res sp√©ciaux<br>
                        echo "Bonjour " . htmlspecialchars($_GET['nom'], ENT_QUOTES, 'UTF-8');</code>
                    </div>
                    <p style="margin-top: 15px;"><strong>R√©sultat :</strong></p>
                    <code style="font-size: 0.8em;">&lt;script&gt; devient &amp;lt;script&amp;gt;</code>
                </div>
            </div>

            <h3>üîÑ CSRF : Actions non autoris√©es</h3>

            <div class="workflow-steps">
                <div class="workflow-step" style="background: #ef4444;">
                    <h4>1Ô∏è‚É£ Victime connect√©e</h4>
                    <p>Sur votre site e-commerce</p>
                </div>
                <div class="workflow-step" style="background: #f59e0b;">
                    <h4>2Ô∏è‚É£ Site malveillant</h4>
                    <p>Formulaire cach√©</p>
                </div>
                <div class="workflow-step" style="background: #ef4444;">
                    <h4>3Ô∏è‚É£ Action forc√©e</h4>
                    <p>Achat non d√©sir√©</p>
                </div>
            </div>

            <div class="best-practices">
                <h4 style="margin-bottom: 15px;">üõ°Ô∏è Protection CSRF avec Token :</h4>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; font-family: monospace;">
                    <code>// G√©n√©ration du token<br>
                    session_start();<br>
                    $_SESSION['csrf_token'] = bin2hex(random_bytes(32));<br><br>
                    // Dans le formulaire<br>
                    &lt;input type="hidden" name="csrf_token" <br>
                    &nbsp;&nbsp;value="&lt;?= $_SESSION['csrf_token'] ?&gt;"&gt;<br><br>
                    // V√©rification<br>
                    if ($_POST['csrf_token'] !== $_SESSION['csrf_token']) {<br>
                    &nbsp;&nbsp;die('CSRF Attack detected!');<br>
                    }</code>
                </div>
            </div>

            <h3>üéÆ Exemple gaming : Plateforme e-sport</h3>
            <div class="alert alert-warning">
                <div class="alert-icon">‚ö†Ô∏è</div>
                <div>
                    <strong>Sc√©nario d'attaque :</strong> Un pirate utilise une injection SQL pour voler la liste de tous les joueurs et leurs gains. Puis il utilise du XSS pour rediriger les visiteurs vers un faux site de paris. Enfin, il exploite une faille CSRF pour faire acheter des objets virtuels co√ªteux aux comptes connect√©s !
                </div>
            </div>
        </div>

        <!-- Section Validation -->
        <div id="validation" class="section py-6 md:py-8">
            <h2>‚úÖ Validation et filtrage des donn√©es</h2>

            <div class="intro-dropdown">
                <div class="intro-header" onclick="toggleIntro(3)">
                    üí° Ne jamais faire confiance aux donn√©es utilisateur
                    <span class="intro-arrow">‚ñº</span>
                </div>
                <div id="intro3" class="intro-content">
                    <div class="intro-text">
                        <p><strong>üéØ Objectif :</strong> Apprendre √† valider, filtrer et √©chapper toutes les donn√©es provenant des utilisateurs pour s√©curiser votre application.</p>

                        <h4>üîç Principe fondamental</h4>
                        <p><strong>Rule #1 :</strong> Ne JAMAIS faire confiance aux donn√©es utilisateur !</p>
                        <ul>
                            <li><strong>Tout provenant de $_GET, $_POST, $_COOKIE</strong> est suspect</li>
                            <li><strong>Les donn√©es d'URL</strong> peuvent √™tre modifi√©es</li>
                            <li><strong>Les formulaires HTML</strong> peuvent √™tre contourn√©s</li>
                            <li><strong>JavaScript c√¥t√© client</strong> peut √™tre d√©sactiv√©/modifi√©</li>
                        </ul>

                        <div class="intro-highlight">
                            <strong>üéØ Analogie :</strong> Traiter les donn√©es utilisateur comme un courrier suspect : on l'examine sous toutes les coutures avant de l'ouvrir !
                        </div>
                    </div>
                </div>
            </div>

            <h3>üîç Les √©tapes de la validation</h3>

            <div class="workflow-steps">
                <div class="workflow-step">
                    <h4>1Ô∏è‚É£ V√©rifier</h4>
                    <p>Pr√©sence des donn√©es obligatoires</p>
                </div>
                <div class="workflow-step">
                    <h4>2Ô∏è‚É£ Valider</h4>
                    <p>Format et type corrects</p>
                </div>
                <div class="workflow-step">
                    <h4>3Ô∏è‚É£ Filtrer</h4>
                    <p>Nettoyer les donn√©es</p>
                </div>
                <div class="workflow-step">
                    <h4>4Ô∏è‚É£ √âchapper</h4>
                    <p>Avant affichage/stockage</p>
                </div>
            </div>

            <h3>üõ†Ô∏è Outils de validation PHP</h3>

            <div class="security-cards">
                <div class="security-card security-protection">
                    <div class="security-icon">üõ°Ô∏è</div>
                    <h3 style="color: #3b82f6;">filter_var()</h3>
                    <p><strong>Usage :</strong> Validation et filtrage int√©gr√©s</p>
                    <br>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; font-family: monospace;">
                        <code>// Valider un email<br>
                        $email = filter_var($_POST['email'], <br>
                        &nbsp;&nbsp;FILTER_VALIDATE_EMAIL);<br><br>
                        // Valider un entier<br>
                        $age = filter_var($_POST['age'], <br>
                        &nbsp;&nbsp;FILTER_VALIDATE_INT, <br>
                        &nbsp;&nbsp;array("options" => array(<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;"min_range" => 1,<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;"max_range" => 120<br>
                        &nbsp;&nbsp;)));</code>
                    </div>
                </div>

                <div class="security-card security-error">
                    <div class="security-icon">‚ö°</div>
                    <h3 style="color: #ef4444;">Expressions r√©guli√®res</h3>
                    <p><strong>Usage :</strong> Validation de formats complexes</p>
                    <br>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; font-family: monospace;">
                        <code>// Valider un num√©ro de t√©l√©phone<br>
                        $pattern = '/^[0-9]{10}$/';<br>
                        if (preg_match($pattern, $phone)) {<br>
                        &nbsp;&nbsp;// T√©l√©phone valide<br>
                        }<br><br>
                        // Valider un nom d'utilisateur<br>
                        $pattern = '/^[a-zA-Z0-9_]{3,20}$/';<br>
                        if (preg_match($pattern, $username)) {<br>
                        &nbsp;&nbsp;// Username valide<br>
                        }</code>
                    </div>
                </div>

                <div class="security-card security-auth">
                    <div class="security-icon">üîí</div>
                    <h3 style="color: #10b981;">Fonctions d'√©chappement</h3>
                    <p><strong>Usage :</strong> Pr√©parer pour affichage/stockage</p>
                    <br>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; font-family: monospace;">
                        <code>// Pour l'affichage HTML<br>
                        echo htmlspecialchars($data, <br>
                        &nbsp;&nbsp;ENT_QUOTES, 'UTF-8');<br><br>
                        // Pour les URLs<br>
                        echo urlencode($data);<br><br>
                        // Pour JavaScript<br>
                        echo json_encode($data);</code>
                    </div>
                </div>

                <div class="security-card security-vulnerability">
                    <div class="security-icon">‚ö†Ô∏è</div>
                    <h3 style="color: #f59e0b;">Whitelist vs Blacklist</h3>
                    <p><strong>Principe :</strong> Privil√©gier la whitelist</p>
                    <br>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; font-family: monospace;">
                        <code>// ‚ùå Blacklist (dangereux)<br>
                        if (strpos($input, '&lt;script&gt;') !== false) {<br>
                        &nbsp;&nbsp;die('Interdit');<br>
                        }<br><br>
                        // ‚úÖ Whitelist (s√©curis√©)<br>
                        $allowed = ['admin', 'user', 'guest'];<br>
                        if (!in_array($role, $allowed)) {<br>
                        &nbsp;&nbsp;die('R√¥le non autoris√©');<br>
                        }</code>
                    </div>
                </div>
            </div>

            <h3>üöó Exemple automobile : Configurateur de voiture</h3>
            <div class="comparison-grid" style="grid-template-columns: 1fr;">
                <div class="comparison-card">
                    <h4>üìù Validation compl√®te d'un formulaire</h4>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-top: 15px; font-family: monospace;">
                        <code>function validateCarConfig($data) {<br>
                        &nbsp;&nbsp;$errors = [];<br><br>
                        &nbsp;&nbsp;// Mod√®le : whitelist<br>
                        &nbsp;&nbsp;$allowedModels = ['308', 'C3', 'Clio'];<br>
                        &nbsp;&nbsp;if (!in_array($data['model'], $allowedModels)) {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;$errors[] = "Mod√®le non autoris√©";<br>
                        &nbsp;&nbsp;}<br><br>
                        &nbsp;&nbsp;// Prix : entier positif<br>
                        &nbsp;&nbsp;$price = filter_var($data['price'], <br>
                        &nbsp;&nbsp;&nbsp;&nbsp;FILTER_VALIDATE_INT, <br>
                        &nbsp;&nbsp;&nbsp;&nbsp;["options" => ["min_range" => 1000]]);<br>
                        &nbsp;&nbsp;if ($price === false) {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;$errors[] = "Prix invalide";<br>
                        &nbsp;&nbsp;}<br><br>
                        &nbsp;&nbsp;return $errors;<br>
                        }</code>
                    </div>
                </div>
            </div>

            <div class="alert alert-success">
                <div class="alert-icon">üí°</div>
                <div>
                    <strong>Conseil Pro :</strong> Validez TOUJOURS c√¥t√© serveur, m√™me si vous avez une validation JavaScript. Un attaquant peut facilement contourner le JavaScript en envoyant directement des requ√™tes HTTP !
                </div>
            </div>
        </div>

        <!-- Quiz 2 -->
        <div class="quiz-container">
            <div class="quiz-header" onclick="toggleQuiz(2)">
                <span>üéØ Quiz 2 : Vuln√©rabilit√©s et Validation</span>
                <span class="quiz-arrow">‚ñº</span>
            </div>
            <div id="quiz2" class="quiz-content">
                <div class="quiz-question">
                    <div class="question-text">1. Quelle est la meilleure protection contre l'injection SQL ?</div>
                    <div class="quiz-options" id="q2-1">
                        <button class="quiz-option" data-correct="false">A) Supprimer tous les guillemets</button>
                        <button class="quiz-option" data-correct="true">B) Utiliser les requ√™tes pr√©par√©es (prepared statements)</button>
                        <button class="quiz-option" data-correct="false">C) Chiffrer toutes les donn√©es</button>
                    </div>
                    <div class="quiz-feedback">
                        <div class="feedback-text"></div>
                    </div>
                </div>

                <div class="quiz-question">
                    <div class="question-text">2. XSS signifie :</div>
                    <div class="quiz-options" id="q2-2">
                        <button class="quiz-option" data-correct="false">A) eXtreme Server Security</button>
                        <button class="quiz-option" data-correct="true">B) Cross-Site Scripting</button>
                        <button class="quiz-option" data-correct="false">C) eXtra Strong Structure</button>
                    </div>
                    <div class="quiz-feedback">
                        <div class="feedback-text"></div>
                    </div>
                </div>

                <div class="quiz-question">
                    <div class="question-text">3. Comment se prot√©ger contre les attaques CSRF ?</div>
                    <div class="quiz-options" id="q2-3">
                        <button class="quiz-option" data-correct="true">A) Utiliser des tokens CSRF uniques dans les formulaires</button>
                        <button class="quiz-option" data-correct="false">B) V√©rifier l'adresse IP de l'utilisateur</button>
                        <button class="quiz-option" data-correct="false">C) Utiliser uniquement HTTPS</button>
                    </div>
                    <div class="quiz-feedback">
                        <div class="feedback-text"></div>
                    </div>
                </div>

                <div class="quiz-question">
                    <div class="question-text">4. Vrai ou Faux : La validation c√¥t√© client (JavaScript) suffit pour s√©curiser une application.</div>
                    <div class="quiz-options" id="q2-4">
                        <button class="quiz-option" data-correct="false">Vrai</button>
                        <button class="quiz-option" data-correct="true">Faux - Il faut TOUJOURS valider c√¥t√© serveur</button>
                    </div>
                    <div class="quiz-feedback">
                        <div class="feedback-text"></div>
                    </div>
                </div>

                <div class="quiz-question">
                    <div class="question-text">5. Quelle fonction PHP utiliser pour √©chapper les donn√©es avant affichage HTML ?</div>
                    <div class="quiz-options" id="q2-5">
                        <button class="quiz-option" data-correct="false">A) mysql_escape_string()</button>
                        <button class="quiz-option" data-correct="true">B) htmlspecialchars()</button>
                        <button class="quiz-option" data-correct="false">C) strip_tags()</button>
                    </div>
                    <div class="quiz-feedback">
                        <div class="feedback-text"></div>
                    </div>
                </div>

                <div class="quiz-score">
                    <h4>üéâ R√©sultat du Quiz 2</h4>
                    <p class="score-text"></p>
                </div>
            </div>
        </div>

        <!-- Section Authentification -->
        <div id="authentification" class="section py-6 md:py-8">
            <h2>üîê Authentification et gestion des sessions</h2>

            <div class="intro-dropdown">
                <div class="intro-header" onclick="toggleIntro(4)">
                    üí° Syst√®me d'authentification s√©curis√©
                    <span class="intro-arrow">‚ñº</span>
                </div>
                <div id="intro4" class="intro-content">
                    <div class="intro-text">
                        <p><strong>üéØ Objectif :</strong> Cr√©er un syst√®me d'authentification robuste avec gestion s√©curis√©e des sessions et hachage des mots de passe.</p>

                        <h4>üîë Les 3 piliers de l'authentification</h4>
                        <ul>
                            <li><strong>Identification</strong> : Qui pr√©tendez-vous √™tre ? (nom d'utilisateur)</li>
                            <li><strong>Authentification</strong> : Prouvez-le ! (mot de passe)</li>
                            <li><strong>Autorisation</strong> : Que pouvez-vous faire ? (droits et permissions)</li>
                        </ul>

                        <div class="intro-highlight">
                            <strong>üéØ Enjeu critique :</strong> Un syst√®me d'authentification faible = porte d'entr√©e pour tous les pirates. C'est votre premi√®re ligne de d√©fense !
                        </div>
                    </div>
                </div>
            </div>

            <h3>üîí Hachage s√©curis√© des mots de passe</h3>

            <div class="comparison-grid">
                <div class="comparison-card" style="border: 3px solid #ef4444;">
                    <h4 style="color: #ef4444;">‚ùå Anciennes m√©thodes (Dangereuses)</h4>
                    <div style="background: #fef2f2; padding: 15px; border-radius: 8px; margin-top: 15px;">
                        <p><strong>Texte en clair :</strong></p>
                        <code style="font-size: 0.9em;">password123</code>
                        <br><br>
                        <p><strong>MD5 / SHA1 :</strong></p>
                        <code style="font-size: 0.9em;">md5('password123')</code>
                        <br><br>
                        <p style="color: #ef4444; margin-top: 10px;"><strong>Probl√®mes :</strong> Reversible, attaques par dictionnaire, rainbow tables</p>
                    </div>
                </div>

                <div class="comparison-card" style="border: 3px solid #10b981;">
                    <h4 style="color: #10b981;">‚úÖ M√©thode moderne (S√©curis√©e)</h4>
                    <div style="background: #f0fdf4; padding: 15px; border-radius: 8px; margin-top: 15px; font-family: monospace;">
                        <code>// Hachage √† l'inscription<br>
                        $password = $_POST['password'];<br>
                        $hash = password_hash($password, <br>
                        &nbsp;&nbsp;PASSWORD_DEFAULT);<br><br>
                        // V√©rification √† la connexion<br>
                        $inputPassword = $_POST['password'];<br>
                        $storedHash = getUserHash($username);<br><br>
                        if (password_verify($inputPassword, <br>
                        &nbsp;&nbsp;&nbsp;&nbsp;$storedHash)) {<br>
                        &nbsp;&nbsp;// Connexion r√©ussie<br>
                        }</code>
                    </div>
                </div>
            </div>

            <h3>üç™ Gestion s√©curis√©e des sessions</h3>

            <div class="security-cards">
                <div class="security-card security-protection">
                    <div class="security-icon">üõ°Ô∏è</div>
                    <h3 style="color: #3b82f6;">Configuration Session</h3>
                    <p><strong>Param√®tres :</strong> S√©curiser PHP sessions</p>
                    <br>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; font-family: monospace;">
                        <code>// Configuration s√©curis√©e<br>
                        ini_set('session.cookie_httponly', 1);<br>
                        ini_set('session.cookie_secure', 1);<br>
                        ini_set('session.use_only_cookies', 1);<br><br>
                        session_start();<br>
                        // R√©g√©n√©rer l'ID apr√®s connexion<br>
                        session_regenerate_id(true);</code>
                    </div>
                </div>

                <div class="security-card security-auth">
                    <div class="security-icon">üîí</div>
                    <h3 style="color: #10b981;">Gestion des droits</h3>
                    <p><strong>Principe :</strong> Contr√¥ler l'acc√®s aux ressources</p>
                    <br>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; font-family: monospace;">
                        <code>function requireAuth() {<br>
                        &nbsp;&nbsp;if (!isset($_SESSION['user_id'])) {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;header('Location: login.php');<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;exit();<br>
                        &nbsp;&nbsp;}<br>
                        }<br><br>
                        function requireRole($role) {<br>
                        &nbsp;&nbsp;requireAuth();<br>
                        &nbsp;&nbsp;if ($_SESSION['role'] !== $role) {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;die('Acc√®s refus√©');<br>
                        &nbsp;&nbsp;}<br>
                        }</code>
                    </div>
                </div>

                <div class="security-card security-error">
                    <div class="security-icon">‚ö°</div>
                    <h3 style="color: #ef4444;">Protection Force Brute</h3>
                    <p><strong>M√©thode :</strong> Limiter les tentatives</p>
                    <br>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; font-family: monospace;">
                        <code>function checkAttempts($username) {<br>
                        &nbsp;&nbsp;$attempts = getFailedAttempts($username);<br>
                        &nbsp;&nbsp;if ($attempts >= 5) {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;$lastAttempt = getLastAttempt($username);<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;if (time() - $lastAttempt < 1800) {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die('Compte bloqu√© 30min');<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;}<br>
                        &nbsp;&nbsp;}<br>
                        }</code>
                    </div>
                </div>

                <div class="security-card security-vulnerability">
                    <div class="security-icon">‚ö†Ô∏è</div>
                    <h3 style="color: #f59e0b;">D√©connexion s√©curis√©e</h3>
                    <p><strong>Important :</strong> Nettoyer compl√®tement</p>
                    <br>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; font-family: monospace;">
                        <code>function logout() {<br>
                        &nbsp;&nbsp;session_start();<br>
                        &nbsp;&nbsp;// Vider les variables<br>
                        &nbsp;&nbsp;$_SESSION = array();<br>
                        &nbsp;&nbsp;// D√©truire le cookie<br>
                        &nbsp;&nbsp;if (isset($_COOKIE[session_name()])) {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;setcookie(session_name(), '',<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time()-3600, '/');<br>
                        &nbsp;&nbsp;}<br>
                        &nbsp;&nbsp;// D√©truire la session<br>
                        &nbsp;&nbsp;session_destroy();<br>
                        }</code>
                    </div>
                </div>
            </div>

            <h3>üèà Exemple sport : Plateforme de paris</h3>
            <div class="workflow-steps">
                <div class="workflow-step">
                    <h4>1Ô∏è‚É£ Inscription</h4>
                    <p>Hachage s√©curis√© du mot de passe</p>
                </div>
                <div class="workflow-step">
                    <h4>2Ô∏è‚É£ Connexion</h4>
                    <p>V√©rification + cr√©ation session</p>
                </div>
                <div class="workflow-step">
                    <h4>3Ô∏è‚É£ Navigation</h4>
                    <p>Contr√¥le des droits √† chaque page</p>
                </div>
                <div class="workflow-step">
                    <h4>4Ô∏è‚É£ Actions sensibles</h4>
                    <p>Re-v√©rification pour les paris</p>
                </div>
            </div>

            <div class="alert alert-warning">
                <div class="alert-icon">‚ö†Ô∏è</div>
                <div>
                    <strong>Attention aux sessions :</strong> Ne stockez JAMAIS le mot de passe en session ! Seulement l'ID utilisateur, le r√¥le, et les informations non sensibles. Le mot de passe ne doit exister qu'au moment de la v√©rification.
                </div>
            </div>
        </div>

        <!-- Section Bonnes pratiques -->
        <div id="bonnes-pratiques" class="section py-6 md:py-8">
            <h2>üõ°Ô∏è Bonnes pratiques et s√©curisation avanc√©e</h2>

            <div class="intro-dropdown">
                <div class="intro-header" onclick="toggleIntro(5)">
                    üí° Headers de s√©curit√© et audit de code
                    <span class="intro-arrow">‚ñº</span>
                </div>
                <div id="intro5" class="intro-content">
                    <div class="intro-text">
                        <p><strong>üéØ Objectif :</strong> Appliquer les bonnes pratiques de s√©curit√© avanc√©es : headers HTTP, configuration serveur, et m√©thodes d'audit.</p>

                        <h4>üîê D√©fense en profondeur</h4>
                        <p>La s√©curit√© ne repose pas sur une seule mesure mais sur <strong>plusieurs couches</strong> :</p>
                        <ul>
                            <li><strong>Couche application</strong> : Validation, √©chappement, authentification</li>
                            <li><strong>Couche serveur</strong> : Configuration PHP, headers HTTP</li>
                            <li><strong>Couche r√©seau</strong> : HTTPS, firewall, monitoring</li>
                            <li><strong>Couche humaine</strong> : Formation, sensibilisation, audit</li>
                        </ul>

                        <div class="intro-highlight">
                            <strong>üéØ Principe cl√© :</strong> M√™me si une couche est compromise, les autres doivent maintenir la s√©curit√©. C'est comme un ch√¢teau avec plusieurs enceintes !
                        </div>
                    </div>
                </div>
            </div>

            <h3>üì® Headers de s√©curit√© HTTP</h3>

            <div class="security-cards">
                <div class="security-card security-protection">
                    <div class="security-icon">üõ°Ô∏è</div>
                    <h3 style="color: #3b82f6;">Headers Essentiels</h3>
                    <p><strong>Protection :</strong> Configuration navigateur</p>
                    <br>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; font-family: monospace;">
                        <code>// Protection XSS<br>
                        header('X-XSS-Protection: 1; mode=block');<br><br>
                        // Emp√™cher iframe<br>
                        header('X-Frame-Options: DENY');<br><br>
                        // Type MIME strict<br>
                        header('X-Content-Type-Options: nosniff');<br><br>
                        // HTTPS strict<br>
                        header('Strict-Transport-Security: <br>
                        &nbsp;&nbsp;max-age=31536000; includeSubDomains');</code>
                    </div>
                </div>

                <div class="security-card security-auth">
                    <div class="security-icon">üîí</div>
                    <h3 style="color: #10b981;">Content Security Policy</h3>
                    <p><strong>CSP :</strong> Contr√¥ler les ressources charg√©es</p>
                    <br>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; font-family: monospace;">
                        <code>// CSP stricte<br>
                        header("Content-Security-Policy: <br>
                        &nbsp;&nbsp;default-src 'self'; <br>
                        &nbsp;&nbsp;script-src 'self' 'unsafe-inline'; <br>
                        &nbsp;&nbsp;style-src 'self' 'unsafe-inline'; <br>
                        &nbsp;&nbsp;img-src 'self' data: https:; <br>
                        &nbsp;&nbsp;connect-src 'self'; <br>
                        &nbsp;&nbsp;font-src 'self'");</code>
                    </div>
                </div>

                <div class="security-card security-error">
                    <div class="security-icon">‚ö°</div>
                    <h3 style="color: #ef4444;">Configuration PHP</h3>
                    <p><strong>Serveur :</strong> Durcir la configuration</p>
                    <br>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; font-family: monospace;">
                        <code>// Dans php.ini en production<br>
                        display_errors = Off<br>
                        log_errors = On<br>
                        expose_php = Off<br>
                        allow_url_fopen = Off<br>
                        allow_url_include = Off<br>
                        session.cookie_httponly = 1<br>
                        session.cookie_secure = 1</code>
                    </div>
                </div>

                <div class="security-card security-vulnerability">
                    <div class="security-icon">‚ö†Ô∏è</div>
                    <h3 style="color: #f59e0b;">Permissions fichiers</h3>
                    <p><strong>Syst√®me :</strong> Droits d'acc√®s minimaux</p>
                    <br>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; font-family: monospace;">
                        <code># Permissions recommand√©es<br>
                        # Fichiers PHP : 644<br>
                        chmod 644 *.php<br><br>
                        # Dossiers : 755<br>
                        chmod 755 /var/www/<br><br>
                        # Config sensible : 600<br>
                        chmod 600 config.php<br><br>
                        # Uploads : 755 (pas 777 !)<br>
                        chmod 755 uploads/</code>
                    </div>
                </div>
            </div>

            <h3>üîç Audit et tests de s√©curit√©</h3>

            <div class="best-practices">
                <h4 style="margin-bottom: 15px;">üõ†Ô∏è Outils d'audit automatis√© :</h4>
                <ul>
                    <li><strong>PHPStan</strong> : Analyse statique du code PHP</li>
                    <li><strong>RIPS</strong> : Scanner de vuln√©rabilit√©s PHP</li>
                    <li><strong>Snyk</strong> : Test des d√©pendances (Composer)</li>
                    <li><strong>OWASP ZAP</strong> : Scanner web gratuit</li>
                    <li><strong>Nmap</strong> : Scan des ports ouverts</li>
                    <li><strong>SSL Labs</strong> : Test de configuration HTTPS</li>
                </ul>
            </div>

            <h3>üìã Checklist de s√©curit√© avant production</h3>

            <div class="comparison-grid" style="grid-template-columns: 1fr;">
                <div class="comparison-card">
                    <h4>‚úÖ Liste de v√©rification obligatoire</h4>
                    <div style="margin-top: 15px;">
                        <p><strong>üîê Authentification :</strong></p>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li>‚úì Mots de passe hach√©s avec password_hash()</li>
                            <li>‚úì Protection contre force brute (limitation tentatives)</li>
                            <li>‚úì Sessions s√©curis√©es (httponly, secure)</li>
                            <li>‚úì D√©connexion propre (destruction compl√®te session)</li>
                        </ul>
                        
                        <p style="margin-top: 20px;"><strong>üõ°Ô∏è Protection donn√©es :</strong></p>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li>‚úì Toutes les entr√©es valid√©es c√¥t√© serveur</li>
                            <li>‚úì √âchappement avant affichage (htmlspecialchars)</li>
                            <li>‚úì Requ√™tes pr√©par√©es uniquement</li>
                            <li>‚úì CSRF tokens sur formulaires sensibles</li>
                        </ul>
                        
                        <p style="margin-top: 20px;"><strong>‚öôÔ∏è Configuration :</strong></p>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li>‚úì display_errors = Off en production</li>
                            <li>‚úì Headers de s√©curit√© configur√©s</li>
                            <li>‚úì HTTPS partout (SSL/TLS)</li>
                            <li>‚úì Permissions fichiers restrictives</li>
                        </ul>
                    </div>
                </div>
            </div>

            <h3>üéÆ Exemple gaming : S√©curisation d'un tournoi e-sport</h3>
            <div class="alert alert-info">
                <div class="alert-icon">üéØ</div>
                <div>
                    <strong>Cas concret :</strong> Pour un tournoi en ligne avec des prix en argent, on applique toutes les mesures : authentification renforc√©e (2FA), logging de toutes les actions, headers CSP pour emp√™cher les triches par injection de code, monitoring en temps r√©el des tentatives d'intrusion, et sauvegarde chiffr√©e des scores !
                </div>
            </div>

            <div class="alert alert-success">
                <div class="alert-icon">üõ°Ô∏è</div>
                <div>
                    <strong>R√®gle d'or :</strong> La s√©curit√© n'est jamais acquise. Mettez en place une veille technologique, des audits r√©guliers, et formez-vous continuellement aux nouvelles menaces !
                </div>
            </div>
        </div>

        <!-- Quiz 3 -->
        <div class="quiz-container">
            <div class="quiz-header" onclick="toggleQuiz(3)">
                <span>üéØ Quiz 3 : Authentification et Bonnes pratiques</span>
                <span class="quiz-arrow">‚ñº</span>
            </div>
            <div id="quiz3" class="quiz-content">
                <div class="quiz-question">
                    <div class="question-text">1. Quelle fonction PHP utiliser pour hacher un mot de passe de fa√ßon s√©curis√©e ?</div>
                    <div class="quiz-options" id="q3-1">
                        <button class="quiz-option" data-correct="false">A) md5()</button>
                        <button class="quiz-option" data-correct="true">B) password_hash()</button>
                        <button class="quiz-option" data-correct="false">C) sha1()</button>
                    </div>
                    <div class="quiz-feedback">
                        <div class="feedback-text"></div>
                    </div>
                </div>

                <div class="quiz-question">
                    <div class="question-text">2. Pourquoi utiliser session_regenerate_id() apr√®s une connexion ?</div>
                    <div class="quiz-options" id="q3-2">
                        <button class="quiz-option" data-correct="false">A) Pour am√©liorer les performances</button>
                        <button class="quiz-option" data-correct="true">B) Pour √©viter la fixation de session</button>
                        <button class="quiz-option" data-correct="false">C) Parce que c'est obligatoire en PHP</button>
                    </div>
                    <div class="quiz-feedback">
                        <div class="feedback-text"></div>
                    </div>
                </div>

                <div class="quiz-question">
                    <div class="question-text">3. Que fait le header "X-Frame-Options: DENY" ?</div>
                    <div class="quiz-options" id="q3-3">
                        <button class="quiz-option" data-correct="true">A) Emp√™che l'affichage de la page dans une iframe</button>
                        <button class="quiz-option" data-correct="false">B) Bloque tous les scripts JavaScript</button>
                        <button class="quiz-option" data-correct="false">C) Force l'utilisation d'HTTPS</button>
                    </div>
                    <div class="quiz-feedback">
                        <div class="feedback-text"></div>
                    </div>
                </div>

                <div class="quiz-question">
                    <div class="question-text">4. Vrai ou Faux : En production, il faut configurer "display_errors = On" pour d√©bugger facilement.</div>
                    <div class="quiz-options" id="q3-4">
                        <button class="quiz-option" data-correct="false">Vrai</button>
                        <button class="quiz-option" data-correct="true">Faux - display_errors = Off en production</button>
                    </div>
                    <div class="quiz-feedback">
                        <div class="feedback-text"></div>
                    </div>
                </div>

                <div class="quiz-question">
                    <div class="question-text">5. Que signifie le principe de "d√©fense en profondeur" ?</div>
                    <div class="quiz-options" id="q3-5">
                        <button class="quiz-option" data-correct="false">A) Utiliser des mots de passe tr√®s longs</button>
                        <button class="quiz-option" data-correct="true">B) Multiplier les couches de s√©curit√©</button>
                        <button class="quiz-option" data-correct="false">C) Cacher son code source</button>
                    </div>
                    <div class="quiz-feedback">
                        <div class="feedback-text"></div>
                    </div>
                </div>

                <div class="quiz-score">
                    <h4>üéâ R√©sultat du Quiz 3</h4>
                    <p class="score-text"></p>
                </div>
            </div>
        </div>

        <!-- Section Synth√®se -->
        <div id="synthese" class="section py-6 md:py-8">
            <h2>üéì Synth√®se et Fiche R√©capitulative</h2>

            <div class="alert alert-success">
                <div class="alert-icon">üéâ</div>
                <div>
                    <strong>F√©licitations !</strong> Vous ma√Ætrisez maintenant les bases essentielles de la s√©curit√© en PHP. Ces comp√©tences sont cruciales pour d√©velopper des applications web robustes et prot√©g√©es !
                </div>
            </div>

            <h3>üìã Fiche R√©capitulative : Checklist du d√©veloppeur s√©curis√©</h3>

            <div class="checklist">
                <h4 style="margin-bottom: 20px; color: #667eea;">‚úÖ Gestion des erreurs</h4>
                
                <div class="checklist-item" onclick="toggleCheckbox(this)">
                    <div class="checkbox"></div>
                    <span><strong>Configurer PHP en production</strong> - display_errors = Off, log_errors = On</span>
                </div>
                
                <div class="checklist-item" onclick="toggleCheckbox(this)">
                    <div class="checkbox"></div>
                    <span><strong>Utiliser try-catch syst√©matiquement</strong> - Capturer et traiter les exceptions</span>
                </div>
                
                <div class="checklist-item" onclick="toggleCheckbox(this)">
                    <div class="checkbox"></div>
                    <span><strong>Logger les erreurs de fa√ßon s√©curis√©e</strong> - Informations techniques pour debug uniquement</span>
                </div>

                <div class="checklist-item" onclick="toggleCheckbox(this)">
                    <div class="checkbox"></div>
                    <span><strong>Cr√©er des exceptions personnalis√©es</strong> - Gestion sp√©cifique par type d'erreur</span>
                </div>

                <h4 style="margin: 30px 0 20px 0; color: #667eea;">‚úÖ Protection contre les vuln√©rabilit√©s</h4>
                
                <div class="checklist-item" onclick="toggleCheckbox(this)">
                    <div class="checkbox"></div>
                    <span><strong>Utiliser UNIQUEMENT des requ√™tes pr√©par√©es</strong> - Protection injection SQL</span>
                </div>
                
                <div class="checklist-item" onclick="toggleCheckbox(this)">
                    <div class="checkbox"></div>
                    <span><strong>√âchapper avec htmlspecialchars()</strong> - Protection XSS avant affichage</span>
                </div>
                
                <div class="checklist-item" onclick="toggleCheckbox(this)">
                    <div class="checkbox"></div>
                    <span><strong>Impl√©menter des tokens CSRF</strong> - Protection actions non autoris√©es</span>
                </div>
                
                <div class="checklist-item" onclick="toggleCheckbox(this)">
                    <div class="checkbox"></div>
                    <span><strong>Valider TOUJOURS c√¥t√© serveur</strong> - Ne jamais faire confiance au client</span>
                </div>

                <h4 style="margin: 30px 0 20px 0; color: #667eea;">‚úÖ Validation et filtrage</h4>
                
                <div class="checklist-item" onclick="toggleCheckbox(this)">
                    <div class="checkbox"></div>
                    <span><strong>Utiliser filter_var() pour la validation</strong> - Emails, entiers, URLs, etc.</span>
                </div>
                
                <div class="checklist-item" onclick="toggleCheckbox(this)">
                    <div class="checkbox"></div>
                    <span><strong>Privil√©gier les whitelists aux blacklists</strong> - D√©finir ce qui est autoris√©</span>
                </div>
                
                <div class="checklist-item" onclick="toggleCheckbox(this)">
                    <div class="checkbox"></div>
                    <span><strong>Valider le format ET la logique m√©tier</strong> - Coh√©rence des donn√©es</span>
                </div>
                
                <div class="checklist-item" onclick="toggleCheckbox(this)">
                    <div class="checkbox"></div>
                    <span><strong>√âchapper selon le contexte</strong> - HTML, URL, JavaScript diff√©remment</span>
                </div>

                <h4 style="margin: 30px 0 20px 0; color: #667eea;">‚úÖ Authentification et sessions</h4>
                
                <div class="checklist-item" onclick="toggleCheckbox(this)">
                    <div class="checkbox"></div>
                    <span><strong>Hacher avec password_hash()</strong> - M√©thode moderne et s√©curis√©e</span>
                </div>
                
                <div class="checklist-item" onclick="toggleCheckbox(this)">
                    <div class="checkbox"></div>
                    <span><strong>Configurer les sessions en s√©curis√©</strong> - httponly, secure, regenerate_id</span>
                </div>
                
                <div class="checklist-item" onclick="toggleCheckbox(this)">
                    <div class="checkbox"></div>
                    <span><strong>Impl√©menter la protection force brute</strong> - Limiter les tentatives</span>
                </div>
                
                <div class="checklist-item" onclick="toggleCheckbox(this)">
                    <div class="checkbox"></div>
                    <span><strong>Contr√¥ler les droits d'acc√®s</strong> - V√©rifier les permissions √† chaque action</span>
                </div>

                <h4 style="margin: 30px 0 20px 0; color: #667eea;">‚úÖ Headers et configuration</h4>
                
                <div class="checklist-item" onclick="toggleCheckbox(this)">
                    <div class="checkbox"></div>
                    <span><strong>Configurer les headers de s√©curit√©</strong> - X-Frame-Options, CSP, HSTS</span>
                </div>
                
                <div class="checklist-item" onclick="toggleCheckbox(this)">
                    <div class="checkbox"></div>
                    <span><strong>Utiliser HTTPS partout</strong> - Chiffrement de toutes les communications</span>
                </div>
                
                <div class="checklist-item" onclick="toggleCheckbox(this)">
                    <div class="checkbox"></div>
                    <span><strong>D√©finir les permissions fichiers</strong> - Acc√®s minimal n√©cessaire</span>
                </div>
                
                <div class="checklist-item" onclick="toggleCheckbox(this)">
                    <div class="checkbox"></div>
                    <span><strong>Masquer les informations serveur</strong> - expose_php = Off</span>
                </div>

                <h4 style="margin: 30px 0 20px 0; color: #667eea;">‚úÖ Audit et maintenance</h4>
                
                <div class="checklist-item" onclick="toggleCheckbox(this)">
                    <div class="checkbox"></div>
                    <span><strong>Effectuer des audits de s√©curit√© r√©guliers</strong> - Outils automatis√©s + review manuel</span>
                </div>
                
                <div class="checklist-item" onclick="toggleCheckbox(this)">
                    <div class="checkbox"></div>
                    <span><strong>Maintenir les d√©pendances √† jour</strong> - Patches de s√©curit√© PHP, libraries</span>
                </div>
                
                <div class="checklist-item" onclick="toggleCheckbox(this)">
                    <div class="checkbox"></div>
                    <span><strong>Monitorer les logs d'erreur</strong> - D√©tecter les tentatives d'attaque</span>
                </div>
                
                <div class="checklist-item" onclick="toggleCheckbox(this)">
                    <div class="checkbox"></div>
                    <span><strong>Tester sur un environnement isol√©</strong> - Jamais directement en production</span>
                </div>
            </div>

            <h3>üéØ Points cl√©s √† retenir</h3>

            <div class="security-cards">
                <div class="security-card security-error">
                    <div class="security-icon">‚ö°</div>
                    <h3 style="color: #ef4444;">Gestion d'erreurs</h3>
                    <p>Try-catch syst√©matique, logging s√©curis√©, messages utilisateur simples</p>
                </div>

                <div class="security-card security-vulnerability">
                    <div class="security-icon">‚ö†Ô∏è</div>
                    <h3 style="color: #f59e0b;">Top 3 vuln√©rabilit√©s</h3>
                    <p>Injection SQL, XSS, CSRF - Ma√Ætriser les protections contre ces failles</p>
                </div>

                <div class="security-card security-protection">
                    <div class="security-icon">üõ°Ô∏è</div>
                    <h3 style="color: #3b82f6;">Validation donn√©es</h3>
                    <p>Ne jamais faire confiance aux entr√©es utilisateur, valider c√¥t√© serveur</p>
                </div>

                <div class="security-card security-auth">
                    <div class="security-icon">üîí</div>
                    <h3 style="color: #10b981;">Authentification</h3>
                    <p>password_hash(), sessions s√©curis√©es, contr√¥le des droits d'acc√®s</p>
                </div>
            </div>

            <h3>üìö Ressources pour aller plus loin</h3>

            <div class="best-practices">
                <ul>
                    <li><strong>OWASP Top 10</strong> : <a href="https://owasp.org/www-project-top-ten/" target="_blank" style="color: #667eea;">owasp.org/www-project-top-ten/</a> - R√©f√©rence des vuln√©rabilit√©s</li>
                    <li><strong>PHP Security Guide</strong> : <a href="https://phpsec.org/" target="_blank" style="color: #667eea;">phpsec.org</a> - Guide complet PHP</li>
                    <li><strong>ANSSI</strong> : <a href="https://www.ssi.gouv.fr/" target="_blank" style="color: #667eea;">ssi.gouv.fr</a> - Recommandations s√©curit√© fran√ßaises</li>
                    <li><strong>Mozilla Security</strong> : <a href="https://infosec.mozilla.org/" target="_blank" style="color: #667eea;">infosec.mozilla.org</a> - Bonnes pratiques web</li>
                    <li><strong>Security Headers</strong> : <a href="https://securityheaders.com/" target="_blank" style="color: #667eea;">securityheaders.com</a> - Tester vos headers</li>
                </ul>
            </div>

            <h3>üöÄ Prochaines √©tapes</h3>

            <div class="workflow-steps">
                <div class="workflow-step">
                    <h4>1Ô∏è‚É£ Pratiquer</h4>
                    <p>Appliquer sur vos projets existants</p>
                </div>
                <div class="workflow-step">
                    <h4>2Ô∏è‚É£ Auditer</h4>
                    <p>Scanner vos applications avec OWASP ZAP</p>
                </div>
                <div class="workflow-step">
                    <h4>3Ô∏è‚É£ Approfondir</h4>
                    <p>√âtudier des CVE r√©centes en PHP</p>
                </div>
                <div class="workflow-step">
                    <h4>4Ô∏è‚É£ Certifier</h4>
                    <p>Viser une certification s√©curit√©</p>
                </div>
            </div>

            <div class="alert alert-warning">
                <div class="alert-icon">‚ö†Ô∏è</div>
                <div>
                    <strong>Important :</strong> La s√©curit√© √©volue constamment. Abonnez-vous aux alertes de s√©curit√© PHP, suivez les blogs sp√©cialis√©s, et mettez r√©guli√®rement √† jour vos connaissances. Un code s√©curis√© aujourd'hui peut devenir vuln√©rable demain !
                </div>
            </div>

            <div class="alert alert-success">
                <div class="alert-icon">‚úÖ</div>
                <div>
                    <strong>Mission accomplie !</strong> Vous avez maintenant les bases solides pour d√©velopper des applications PHP s√©curis√©es. La s√©curit√© est un √©tat d'esprit : int√©grez ces r√©flexes d√®s maintenant dans tous vos projets !
                    <br><br>
                    <strong>Motto du d√©veloppeur s√©curis√© :</strong> "Je ne fais confiance √† personne, pas m√™me √† moi-m√™me !" üòÑ
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="mt-8">
            <div class="flex flex-wrap justify-center gap-3 py-6" style="border-top: 2px solid #e5e7eb;">
                <a href="#intro" style="background: #667eea; color: white; padding: 12px 24px; border-radius: 8px; text-decoration: none; font-weight: 600;">‚¨ÜÔ∏è Retour au d√©but</a>
                <button onclick="window.print()" style="background: #10b981; color: white; padding: 12px 24px; border-radius: 8px; border: none; cursor: pointer; font-weight: 600;">üñ®Ô∏è Imprimer le cours</button>
            </div>
            <div style="text-align: center; color: #666; padding: 20px; font-size: 0.9em;">
                <p>üîê Cours S√©curit√© PHP - Formation D√©veloppement</p>
                <p>üõ°Ô∏è S√©curisez vos applications et prot√©gez vos utilisateurs !</p>
            </div>
        </footer>
    </main>

    <!-- JavaScript -->
    <script src="script.js"></script>
</body>
</html>